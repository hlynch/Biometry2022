dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L8_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L8_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L8_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L8_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l8;"
L8_C2_L1_site_scene_cc_post <- dbGetQuery(con, sql)
#save(L8_C2_L1_site_scene_cc_post, file = "Library/L8_C2_L1_site_scene_cc_post.rda")
qaqc_summary <- L8_C2_L1_site_scene_cc_post %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it),
register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it),
register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
26/60
41/60
WV03_ClassifiedSeals_2021Oct19 <- read.csv("~/Desktop/WV03_ClassifiedSeals_2021Oct19.csv")
View(WV03_ClassifiedSeals_2021Oct19)
hist(WV03_ClassifiedSeals_2021Oct19)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area,breaks=30)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area,breaks=40)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area,breaks=50)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area,breaks=60)
hist(WV03_ClassifiedSeals_2021Oct19$seal_area,breaks=70)
install.packages("mclust")
library(mclust)
?mclust
Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area, x = BIC)
Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area)
mod1<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area)
head(mod1)
names(mod1)
mod1$n
mod1$d
mod1$parameters
plot(mod1)
mod1<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area,2)
plot(mod1)
names(mod1)
mod1$BIC
mod1$loglik
mod1<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area,1)
mod1$loglik
mod2<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area,2)
mod1$loglik
mod3$loglik
mod2$loglik
mod3<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area,3)
mod3$loglik
mod4<-Mclust(WV03_ClassifiedSeals_2021Oct19$seal_area,4)
mod4$loglik
plot(mod2)
plot(mod3)
plot(mod4)
library(shiny); runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(shiny)
library(shinydashboard)
library(RPostgres)
library(dplyr)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT site_id FROM qaqc_l7;"
site_list <- unique(dbGetQuery(con, sql))
site_list <- site_list[order(site_list$site_id), ]
sql <- "SELECT season FROM qaqc_l7;"
season_list <- unique(dbGetQuery(con, sql))
season_list <- season_list[order(season_list$season), ]
# get registered L8 scene for each site
sql <- "SELECT site_id, file, register FROM qaqc;"
register_df <- dbGetQuery(con, sql) %>%
dplyr::filter(register == TRUE) %>%
group_by(site_id) %>%
slice(1) %>%
ungroup
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
View(L7_C2_L1_site_scene_spectral_nodup_qaqc)
View(qaqc_summary)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(shiny); runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(RPostgres)
library(tidyverse)
con <- dbConnect(
RPostgres::Postgres(),
dbname = "landsat_qaqc",
host = "landsat-qaqc.crhzrobl6kz8.us-west-2.rds.amazonaws.com",
port = 5432,
user = "frontend",
password = "bushybeard",
sslmode = '')
sql <- "SELECT * FROM qaqc_l7;"
L7_C2_L1_site_scene_spectral_nodup_qaqc <- dbGetQuery(con, sql)
save(L7_C2_L1_site_scene_spectral_nodup_qaqc, file = "Library/L7_C2_L1_site_scene_spectral_nodup_qaqc.rda")
qaqc_summary <- L7_C2_L1_site_scene_spectral_nodup_qaqc %>%
dplyr::select(site_id, keep, dump, check_it, register) %>%
mutate(keep = as.integer(keep), dump = as.integer(dump), check_it = as.integer(check_it), register = as.integer(register)) %>%
mutate(processed = keep + dump) %>%
group_by(site_id) %>%
summarize(keep = sum(keep), dump = sum(dump), check_it = sum(check_it), register = sum(register), processed = sum(processed), n = n()) %>%
ungroup() %>%
mutate(complete = ifelse(processed == n & check_it == 0, 1, 0))
sum(qaqc_summary$processed) / sum(qaqc_summary$n)
library(shiny); runApp('Documents/Projects/Landsat_L8_cloud_clearing/ShinyApp/app_L7_png.R')
1.7/6.5
(1.04)^30
(1.01)^30
(1.02)^30
(1.015)^30
(1.015)^100
2946.37*2
99.23*2
3274+955+280+25000+150+12630+40000+8500+25000+175250+6430+13550+35000+450
1151.27*2
phat<-2000/2000000
1.96*sqrt((phat*(1-phat))/2000000)
phat-1.96*sqrt((phat*(1-phat))/2000000)
phat+1.96*sqrt((phat*(1-phat))/2000000)
3120+99+209+43+356+16
hist(rbeta(1000,43,57))
hist(rbeta(1000,82,18))
47858+1138+6532
setwd("~/Documents/Projects/Biometry2022")
bookdown::render_book("index.Rmd")
